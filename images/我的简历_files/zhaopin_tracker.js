(function(f){function n(a){this.name=a;this.counter=0;this.profile={};this.loginFlag=!1;this.head={messageType:"jssdk"};this.basic={};this.message={}}"object"!==typeof JSON&&(JSON={});(function(){function a(a){return 10>a?"0"+a:a}function c(){return this.valueOf()}function d(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var d=n[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a,c){var h=k,e=c[a];e&&"object"===typeof e&&
"function"===typeof e.toJSON&&(e=e.toJSON(a));"function"===typeof m&&(e=m.call(c,a,e));switch(typeof e){case "string":return d(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);case "object":if(!e)return"null";k+=q;var g=[];if("[object Array]"===Object.prototype.toString.apply(e)){var p=e.length;for(a=0;a<p;a+=1)g[a]=b(a,e)||"null";c=0===g.length?"[]":k?"[\n"+k+g.join(",\n"+k)+"\n"+h+"]":"["+g.join(",")+"]";k=h;return c}if(m&&"object"===typeof m)for(p=
m.length,a=0;a<p;a+=1){if("string"===typeof m[a]){var f=m[a];(c=b(f,e))&&g.push(d(f)+(k?": ":":")+c)}}else for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c=b(f,e))&&g.push(d(f)+(k?": ":":")+c);c=0===g.length?"{}":k?"{\n"+k+g.join(",\n"+k)+"\n"+h+"}":"{"+g.join(",")+"}";k=h;return c}}var e=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,l=/(?:^|:|,)(?:\s*\[)+/g,f=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=c,Number.prototype.toJSON=c,String.prototype.toJSON=c);var k,q,m;if("function"!==typeof JSON.stringify){var n=
{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(a,c,d){var h;q=k="";if("number"===typeof d)for(h=0;h<d;h+=1)q+=" ";else"string"===typeof d&&(q=d);if((m=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return b("",{"":a})}}"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function d(a,b){var h,e=a[b];if(e&&"object"===typeof e)for(h in e)if(Object.prototype.hasOwnProperty.call(e,
h)){var g=d(e,h);void 0!==g?e[h]=g:delete e[h]}return c.call(a,b,e)}a=String(a);r.lastIndex=0;r.test(a)&&(a=a.replace(r,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(e.test(a.replace(p,"@").replace(g,"]").replace(l,"")))return a=eval("("+a+")"),"function"===typeof c?d({"":a},""):a;throw new SyntaxError("JSON.parse");})})();var b={LIB_VERSION:"zlstsc_J_0.1.2",ArrayProto:Array.prototype,ObjProto:Object.prototype,slice:Array.prototype.slice,toString:Object.prototype.toString,
hasOwnProperty:Object.prototype.hasOwnProperty,nativeForEach:Array.prototype.forEach,breaker:{},cookie:{get:function(a){a+="=";for(var c=document.cookie.split(";"),d=0;d<c.length;d++){for(var b=c[d];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(a))return decodeURIComponent(b.substring(a.length,b.length))}return""},set:function(a,c,d,b,e){var h="",g="",f="";d="undefined"===typeof d?730:d;if("undefined"===typeof b?0:b)h=(h=(h=document.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?
h[0]:"")?"; domain=."+h:"";0!==d&&(g=new Date,"s"===String(d).slice(-1)?g.setTime(g.getTime()+1E3*Number(String(d).slice(0,-1))):g.setTime(g.getTime()+864E5*d),g="; expires="+g.toGMTString());e&&(f="; secure");document.cookie=a+"="+encodeURIComponent(c)+g+"; path=/"+h+f},remove:function(a,c){_.cookie.set(a,"",-1,"undefined"===typeof c?!1:c)}},each:function(a,c,d){if(null==a)return!1;if(this.nativeForEach&&a.forEach===this.nativeForEach)a.forEach(c,d);else if(a.length===+a.length)for(var b=0,e=a.length;b<
e;b++){if(b in a&&c.call(d,a[b],b,a)===this.breaker)return!1}else for(b in a)if(this.hasOwnProperty.call(a,b)&&c.call(d,a[b],b,a)===this.breaker)return!1},extend:function(a){this.each(this.slice.call(arguments,1),function(c){for(var d in c)a[d]=c[d]});return a},extendWithoutBlank:function(a){this.each(this.slice.call(arguments,1),function(c){for(var d in c)""!==c[d]&&(a[d]=c[d])});return a},isObject:function(a){return"[object Object]"==this.toString.call(a)},isString:function(a){return"[object String]"==
this.toString.call(a)},isJSONObj:function(a){try{JSON.stringify(a)}catch(c){return!1}return!0},isNumber:function(a){return"[object Number]"==this.toString.call(a)&&/[\d\.]+/.test(String(a))},Encode:function(a,c){var d=encodeURIComponent;return d instanceof Function?c?encodeURI(a):d(a):escape(a)},isEmpty:function(a){return void 0==a||null==a},isEmptyObject:function(a){for(var c in a)return!1;return!0},emptyFunction:function(){},isFunction:function(a){return"[object Function]"===this.toString.call(a)},
getServerUrl:function(a){return("https:"==document.location.protocol?" https://":" http://")+"analytics.zhaopin.cn/sdk2"},utf8Encode:function(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var c="",d,b;var e=d=0;var f=a.length;for(b=0;b<f;b++){var g=a.charCodeAt(b),l=null;128>g?d++:l=127<g&&2048>g?String.fromCharCode(g>>6|192,g&63|128):String.fromCharCode(g>>12|224,g>>6&63|128,g&63|128);null!==l&&(d>e&&(c+=a.substring(e,d)),c+=l,e=d=b+1)}d>e&&(c+=a.substring(e,a.length));return c},base64Encode:function(a){var c=
0,d=0,b=[];if(!a)return a;a=this.utf8Encode(a);do{var e=a.charCodeAt(c++);var f=a.charCodeAt(c++);var g=a.charCodeAt(c++);var l=e<<16|f<<8|g;e=l>>18&63;f=l>>12&63;g=l>>6&63;l&=63;b[d++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}while(c<
a.length);c=b.join("");switch(a.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c},cloneObj:function(a){return JSON.parse(JSON.stringify(a))}};b.uuid=function(){var a=function(){for(var a=1*new Date,c=0;a==1*new Date;)c++;return a.toString(16)+c.toString(16)},c=function(a){function c(a,c){var b,e=0;for(b=0;b<c.length;b++)e|=d[b]<<8*b;return a^e}a=navigator.userAgent;var b,d=[],g=0;for(b=0;b<a.length;b++){var f=a.charCodeAt(b);d.unshift(f&255);4<=d.length&&(g=c(g,d),d=
[])}0<d.length&&(g=c(g,d));return g.toString(16)};return function(){var b=String(screen.height*screen.width);b=b&&/\d{5,}/.test(b)?b.toString(16):String(31242*Math.random()).replace(".","").slice(0,8);return(b=a()+"-"+Math.random().toString(16).replace(".","")+"-"+c()+"-"+b+"-"+a())?b:(String(Math.random())+String(Math.random())+String(Math.random())).slice(2,15)}}();b.info={pageProp:{},initPage:function(){var a=this.getRefurl(),c=location.href,d=window.screen;d=d?d.width+"x"+d.height:"";b.cookie.get("zhilian_uid");
this.pageProp={rsltn:d,url:c,refurl:a,dvcid:this.getDeviceid(),zlstscver:b.LIB_VERSION}},getRefurl:function(){var a="";try{a=window.top.document.referrer}catch(c){if(window.parent)try{a=window.parent.document.referrer}catch(d){a=""}}""===a&&(a=document.referrer);return a},genUid32:function(){for(var a="",b=32;b--;)a+=Math.floor(16*Math.random()).toString(16);return a},getDeviceid:function(){var a=b.cookie.get("sts_deviceid");a||(a=b.uuid(),b.cookie.set("sts_deviceid",a,3650,!0));return a}};b.getTopDomain=
function(a){return(a=a.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?a[0]:""};b.getSourceUrl=function(){var a=b.cookie.get("zp_src_url");!a&&b.info.getRefurl()&&(a=b.info.getRefurl(),b.cookie.set("zp_src_url",a,0,!0));return a};b.getChannel=function(){var a=document.referrer,c=window.location.hostname;""==a?b.cookie.set("zp_channel_url","121126445",0,!0):-1==a.indexOf(b.getTopDomain(c))&&b.cookie.set("zp_channel_url",a,0,!0);return b.cookie.get("zp_channel_url")};b.send=function(a,c,d){2036>=c.length?
this.sendByImage(a,c,d):12288>=c.length?this.sendByBeacon(a,c,d)||this.sendByRequest(a,c,d)||this.sendByImage(a,c,d):b.log("msg length:"+c.length+",over maxvalue:12288,can not send!")};b.sendByImage=function(a,b,d){var c=document.createElement("img");c.width=1;c.height=1;c.src=a+"?"+b;c.onload=c.onerror=function(){c.onload=null;c.onerror=null;d()}};b.sendByRequest=function(a,b,d){var c=window.XDomainRequest;if(c){var e=new c;e.open("POST",a)}else if(c=window.XMLHttpRequest)c=new c,"withCredentials"in
c&&(e=c,e.open("POST",a,!0),e.setRequestHeader("Content-Type","text/plain"));return e?(e.onreadystatechange=function(){4==e.readyState&&(d&&d(),e=null)},e.send(b),!0):!1};b.sendByBeacon=function(a,b,d){return window.navigator.sendBeacon?window.navigator.sendBeacon(a,b)?(d(),!0):!1:!1};b.getSidandSeq=function(){var a=[],c=b.cookie.get("sts_sg"),d=b.cookie.get("sts_sid"),f=b.cookie.get("sts_evtseq");null==c||""==c?(f="1",d=this.uuid(),b.cookie.set("sts_sg","1",0,!0)):null==d||""==d?(f="1",d=this.uuid()):
f=new Number(f)+1;b.cookie.set("sts_evtseq",f,"1800s",!0);b.cookie.set("sts_sid",d,"1800s",!0);a[0]=d;a[1]=f;return a};b.getSessionid=function(){var a=b.cookie.get("sts_sid");if(null==a||""==a)a=b.uuid(),b.cookie.set("sts_sid",a,"1800s",!0);return a};b.getAndIncreaseEvtseq=function(){var a=b.cookie.get("sts_evtseq");if(null==a||""==a)a=0;var c=new Number(a)+1;b.cookie.set("sts_evtseq",c,"1800s",!0);return a};b.log=function(){if("object"===typeof console&&console.log)try{return console.log.apply(console,
arguments)}catch(a){console.log(arguments[0])}};b.getQueryParam=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null===a||a&&"string"!==typeof a[1]&&a[1].length?"":decodeURIComponent(a[1]).replace(/\+/g," ")};b.getStsChnlSid=function(){var a=b.cookie.get("sts_chnlsid");""==a&&(a=b.getQueryParam(location.href,"sid"),""==a&&(a="Unknown"),b.cookie.set("sts_chnlsid",a,0,!0));return a};n.prototype.init=function(a,c,d){if(b.isEmpty(c)||
0==c.length)return b.log("appid must be reported!!!"),!1;a=this.basic;d=b.isEmpty(d)||b.isEmpty(d.auto_track)?"0":b.isEmpty(d.auto_track.enable)?"0":d.auto_track.enable;a.auto=d;a.appid=c;b.info.initPage();b.extend(a,b.info.pageProp)};n.prototype.login=function(a,c){this.loginFlag=!0;b.isEmpty(c)||b.cookie.set("sts_uid",c,730,!0)};n.prototype.track=function(a,c,d,f){if(b.isEmpty(this.basic.appid)||0==this.basic.appid.length)return b.log("appid must be reported!!!"),!1;f=f||b.emptyFunction;a=b.getSidandSeq();
var e=String(1*new Date),h=this.basic.dvcid+"_"+a[0]+"_"+a[1];this.message.basic={};b.extend(this.message.basic,this.basic);this.message.basic.sessionid=a[0];this.message.basic.evtseq=a[1];this.message.basic.curtime=e;this.message.basic.msgid=h;a=b.cookie.get("urlfrom");this.message.basic.urlfrom=""==a?"Unknown":a;a=b.cookie.get("urlfrom2");this.message.basic.urlfrom2=""==a?"Unknown":a;this.message.basic.sid=b.getStsChnlSid();a=b.cookie.get("sensorsdata2015jssdkcross");null!=a&&""!=a&&(a=decodeURIComponent(a),
a=JSON.parse(a).distinct_id,this.message.basic.sa_distinctid=a);void 0==c.chnlname&&(c.chnlname=b.getSourceUrl());b.extend(this.message.basic,c);this.message.props=d;c=b.getServerUrl();d=[];d[0]=this.message;d=b.Encode(b.base64Encode(JSON.stringify(d)));d="magicnumber="+b.LIB_VERSION+"&sndts="+String(1*new Date)+"&head="+b.Encode(JSON.stringify(this.head))+"&msg="+d;b.send(c,d,f);this.message={}};var t=window[f].q;window[f]=function(){var a=arguments[0].split(".");if(1==a.length)if(void 0!==window[f][a[0]])window[f][a[0]].apply(window[f],
arguments);else{if(void 0!==window[f]._zhaopin_bigdata[a[0]])return window[f]._zhaopin_bigdata[a[0]].apply(window[f]._zhaopin_bigdata,arguments);b.log("zhaopin_tracker has no this function: "+a[0])}else if(2==a.length){var c=a[0];a=a[1];void 0!==window[f][c][a]?window[f][c][a].apply(window[f][c],arguments):b.log("zhaopin_tracker has no this function: "+a)}};window[f].creat=function(a,b,d){d=d||{};a=d.tracker_name;if(null==a||void 0==a)a="_zhaopin_bigdata";this[a]=this[a]||new n(a);this[a].init("",
b,d);return this[a]};if(void 0!==t)for(var u=0;u<t.length;++u)window[f].apply(window[f],t[u])})(window.ZhaoPinBigdataAnalyticsObject);
